(function(e){function t(t){for(var n,i,s=t[0],r=t[1],a=t[2],u=0,b=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&b.push(c[i][0]),c[i]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);d&&d(t);while(b.length)b.shift()();return l.push.apply(l,a||[]),o()}function o(){for(var e,t=0;t<l.length;t++){for(var o=l[t],n=!0,s=1;s<o.length;s++){var r=o[s];0!==c[r]&&(n=!1)}n&&(l.splice(t--,1),e=i(i.s=o[0]))}return e}var n={},c={app:0},l=[];function i(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=n,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=t,s=s.slice();for(var a=0;a<s.length;a++)t(s[a]);var d=r;l.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"063e":function(e,t,o){},2504:function(e,t,o){"use strict";o("d5d1")},"38b9":function(e,t,o){},4035:function(e,t,o){},"4f91":function(e,t,o){"use strict";o("063e")},5143:function(e,t,o){},"53f2":function(e,t,o){"use strict";o("a937")},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("7a23");function c(e,t,o,c,l,i){var s=Object(n["p"])("tool-bar"),r=Object(n["p"])("control-balls"),a=Object(n["p"])("note"),d=Object(n["p"])("textfield-group-fixed"),u=Object(n["p"])("colors");return Object(n["l"])(),Object(n["d"])(n["a"],null,[Object(n["e"])("div",{class:Object(n["j"])(["dark-filter",{darken:l.isDarkMode}])},null,2),Object(n["h"])(s),Object(n["h"])(r,{isDarkMode:l.isDarkMode,isTouchMode:l.isTouchMode,isFullscreen:l.isFullscreen,onToggleDarkMode:i.toggleDarkMode,onToggleFullscreen:i.toggleFullscreen},null,8,["isDarkMode","isTouchMode","isFullscreen","onToggleDarkMode","onToggleFullscreen"]),Object(n["h"])(a,{isFullscreen:l.isFullscreen},null,8,["isFullscreen"]),Object(n["h"])(d),Object(n["h"])(u)],64)}o("caad");var l=function(e){return Object(n["n"])("data-v-7a63797e"),e=e(),Object(n["m"])(),e},i={class:"toolbar shadow-3"},s=l((function(){return Object(n["e"])("i",{class:"logo material-icons shadow-2"},"format_list_bulleted",-1)})),r={class:"tools"},a=l((function(){return Object(n["e"])("i",{class:"material-icons"},"add",-1)})),d=[a],u=l((function(){return Object(n["e"])("i",{class:"material-icons"},"remove",-1)})),b=[u],f=l((function(){return Object(n["e"])("i",{class:"material-icons"},"color_lens",-1)})),j=[f],O=l((function(){return Object(n["e"])("i",{class:"material-icons"},"clear_all",-1)})),p=[O],h=l((function(){return Object(n["e"])("i",{class:"material-icons"},"vertical_align_bottom",-1)})),v=[h],m=l((function(){return Object(n["e"])("i",{class:"material-icons file"},[Object(n["g"])("input "),Object(n["e"])("input",{id:"file-uploader",type:"file",accept:"application/json"})],-1)})),T=[m];function N(e,t,o,c,l,a){return Object(n["l"])(),Object(n["d"])("div",i,[s,Object(n["e"])("div",r,[Object(n["e"])("div",{class:Object(n["j"])(["tool btn btn-shallow",{disabled:!a.selectedNode.location}]),onClick:t[0]||(t[0]=function(){return a.openTextfield&&a.openTextfield.apply(a,arguments)})},d,2),Object(n["e"])("div",{class:Object(n["j"])(["tool btn btn-shallow",{disabled:!a.selectedNode.location}]),onClick:t[1]||(t[1]=function(){return a.deleteNode&&a.deleteNode.apply(a,arguments)})},b,2),Object(n["e"])("div",{class:Object(n["j"])(["tool btn btn-shallow",{disabled:!["basic-node","list-item"].includes(a.selectedNode.type)}]),onClick:t[2]||(t[2]=function(){return a.colorsOpen&&a.colorsOpen.apply(a,arguments)})},j,2),Object(n["e"])("div",{class:"tool btn btn-shallow",onClick:t[3]||(t[3]=function(){return a.clearNodes&&a.clearNodes.apply(a,arguments)})},p),Object(n["e"])("div",{class:"tool btn btn-shallow",onClick:t[4]||(t[4]=function(){return a.saveNote&&a.saveNote.apply(a,arguments)})},v),Object(n["e"])("div",{class:"tool btn btn-shallow",onClick:t[5]||(t[5]=function(){return a.readNote&&a.readNote.apply(a,arguments)})},T)])])}o("a434"),o("e9c4");var g=o("21a6"),C=o.n(g),k={computed:{getThisObj:function(){var e;return this.getNodeObj({location:this.location,callback:function(t,o){e=t[o]}}),e}},methods:{getNodeObj:function(e){var t=e.parentObj,o=void 0===t?this.note:t,n=e.location,c=e.num,l=void 0===c?0:c,i=e.callback;l==n.length-1?i&&i(o.CTS,n[l]):this.getNodeObj({parentObj:o.CTS[n[l]],location:n,num:l+1,callback:i})}}};const y=k;var x=y,L=o("1344"),S=new L["a"],M={inject:["note","selectedNode"],mixins:[x],mounted:function(){var e=this,t=document.querySelector("#file-uploader");t.addEventListener("change",(function(){var o=new FileReader;o.readAsText(t.files[0],"uft8"),o.onload=function(t){var o=t.target.result;e.note.CTS=JSON.parse(o)}})),S.on("textfield-return-toolBar",(function(t){e.insertNode(t)}))},methods:{insertNode:function(e){if(e){var t=this.selectedNode.location;t&&this.getNodeObj({location:t,callback:function(t,o){t.splice(o+1,0,e)}})}},deleteNode:function(){var e=this.selectedNode.location;this.selectedNode.location=null,this.selectedNode.type=null,this.getNodeObj({location:e,callback:function(e,t){e.splice(t,1)}})},colorsOpen:function(){S.emit("colors-open")},clearNodes:function(){this.note.CTS=[]},saveNote:function(){var e=new Blob([JSON.stringify(this.note.CTS)],{type:"text/plain;charset=utf-8"});C()(e,"myNote.json")},readNote:function(){var e=document.querySelector("#file-uploader");e.click()},openTextfield:function(){S.emit("textfield-open","toolBar")}}},w=(o("ca846"),o("6b0d")),F=o.n(w);const _=F()(M,[["render",N],["__scopeId","data-v-7a63797e"]]);var D=_,A=function(e){return Object(n["n"])("data-v-c1e46584"),e=e(),Object(n["m"])(),e},B=A((function(){return Object(n["e"])("div",{class:"block"},[Object(n["e"])("div",{class:"mask"}),Object(n["e"])("i",{class:"material-icons"},"apps")],-1)})),E={class:"material-icons"},I={class:"material-icons"},$=A((function(){return Object(n["e"])("div",{class:"ball shadow-1"},[Object(n["e"])("i",{class:"material-icons"},"touch_app")],-1)})),P={class:"material-icons"},V={class:"material-icons"};function J(e,t,o,c,l,i){return Object(n["l"])(),Object(n["d"])("div",{class:Object(n["j"])(["controlballs",{fullscreen:o.isFullscreen}])},[B,Object(n["e"])("div",{class:"ball shadow-1",onClick:t[0]||(t[0]=function(){return i.toggleDarkMode&&i.toggleDarkMode.apply(i,arguments)})},[Object(n["t"])(Object(n["e"])("i",E,"brightness_2",512),[[n["r"],!o.isDarkMode]]),Object(n["t"])(Object(n["e"])("i",I,"wb_sunny",512),[[n["r"],o.isDarkMode]])]),$,Object(n["e"])("div",{class:"ball shadow-1",onClick:t[1]||(t[1]=function(){return i.toggleFullscreen&&i.toggleFullscreen.apply(i,arguments)})},[Object(n["t"])(Object(n["e"])("i",P,"fullscreen",512),[[n["r"],!o.isFullscreen]]),Object(n["t"])(Object(n["e"])("i",V,"fullscreen_exit",512),[[n["r"],o.isFullscreen]])])],2)}var R={props:["isDarkMode","isTouchMode","isFullscreen"],methods:{toggleDarkMode:function(){this.$emit("toggleDarkMode")},toggleFullscreen:function(){this.$emit("toggleFullscreen")}}};o("4f91");const q=F()(R,[["render",J],["__scopeId","data-v-c1e46584"]]);var G=q,K=function(e){return Object(n["n"])("data-v-7626431a"),e=e(),Object(n["m"])(),e},U=K((function(){return Object(n["e"])("div",{class:"mask"},null,-1)})),z=K((function(){return Object(n["e"])("i",{class:"material-icons"},"add",-1)})),H=[z];function Q(e,t,o,c,l,i){var s=Object(n["p"])("floor-block"),r=Object(n["p"])("node-renderer"),a=Object(n["p"])("textfield-group");return Object(n["l"])(),Object(n["d"])("div",{class:Object(n["j"])(["note-outer shadow-3",{offset:l.offset,fullscreen:o.isFullscreen}])},[Object(n["e"])("div",{class:"note",onContextmenu:t[1]||(t[1]=Object(n["u"])((function(){}),["prevent"]))},[(Object(n["l"])(!0),Object(n["d"])(n["a"],null,Object(n["o"])(i.note.CTS,(function(e,t){return Object(n["l"])(),Object(n["d"])(n["a"],{key:e.id},["floor"==e.NT?(Object(n["l"])(),Object(n["c"])(s,{key:0,selected:e.SL,children:e.CTS,level:2,location:[t]},null,8,["selected","children","location"])):(Object(n["l"])(),Object(n["c"])(r,{key:1,nodeObj:e,index:t,level:1,location:[]},null,8,["nodeObj","index"]))],64)})),128)),U,Object(n["h"])(a,{ref:"textfield",isAdding:l.isNodeAdding,onToParent:i.closeNodeAdder},null,8,["isAdding","onToParent"]),Object(n["e"])("div",{class:Object(n["j"])(["btn btn-normal adder-btn",{disabled:l.isNodeAdding}]),onClick:t[0]||(t[0]=function(){return i.openNodeAdder&&i.openNodeAdder.apply(i,arguments)})},H,2)],32)],2)}o("99af");var W=Object(n["e"])("div",{class:"mask"},null,-1);function X(e,t,o,c,l,i){var s=Object(n["p"])("floor-block",!0),r=Object(n["p"])("node-renderer"),a=Object(n["p"])("block-controls");return Object(n["l"])(),Object(n["d"])("div",{class:Object(n["j"])(["floor shadow-2",{"shadow-6":o.selected}]),onMouseenter:t[0]||(t[0]=function(){return e.onMouseEnter&&e.onMouseEnter.apply(e,arguments)}),onMouseleave:t[1]||(t[1]=function(){return e.onMouseLeave&&e.onMouseLeave.apply(e,arguments)})},[W,(Object(n["l"])(!0),Object(n["d"])(n["a"],null,Object(n["o"])(o.children,(function(t,c){return Object(n["l"])(),Object(n["d"])(n["a"],{key:t.id},["floor"==t.NT?(Object(n["l"])(),Object(n["c"])(s,{key:0,children:t.CTS,selected:t.SL,level:o.level+1,location:o.location.concat([c]),onMouseInChild:e.onMouseLeave},null,8,["children","selected","level","location","onMouseInChild"])):(Object(n["l"])(),Object(n["c"])(r,{key:1,nodeObj:t,index:c,level:o.level,location:o.location},null,8,["nodeObj","index","level","location"]))],64)})),128)),Object(n["h"])(a,{disabled:!e.hover,selected:o.selected,location:o.location,parentType:"floor"},null,8,["disabled","selected","location"])],34)}function Y(e,t,o,c,l,i){var s=Object(n["p"])("list-block"),r=Object(n["p"])("table-block"),a=Object(n["p"])("basic-node");return"list"==o.nodeObj.NT?(Object(n["l"])(),Object(n["c"])(s,{key:0,isOrdered:o.nodeObj.OL,selected:o.nodeObj.SL,children:o.nodeObj.CTS,location:o.location.concat([o.index])},null,8,["isOrdered","selected","children","location"])):"table"==o.nodeObj.NT?(Object(n["l"])(),Object(n["c"])(r,{key:1,selected:o.nodeObj.SL,children:o.nodeObj.CTS,location:o.location.concat([o.index])},null,8,["selected","children","location"])):(Object(n["l"])(),Object(n["c"])(a,{key:2,tagName:"h"==o.nodeObj.NT?o.nodeObj.NT+o.level:o.nodeObj.NT,content:o.nodeObj.CT,color:o.nodeObj.CL,selected:o.nodeObj.SL,location:o.location.concat([o.index])},null,8,["tagName","content","color","selected","location"]))}o("2532");var Z={data:function(){return{initialContent:this.content,editing:!1}},inject:["note","selectedNode"],props:["tagName","content","location","selected","color"],mixins:[x],computed:{fontColor:function(){return!this.color||this.color.includes("--")?"var(".concat(this.color,")"):this.color}},methods:{selectEvent:function(){this.selected?(S.emit("textfield-close"),S.emit("colors-close"),this.selectedNode.location=null,this.selectedNode.type=null,this.getThisObj.SL=!1):(this.selectedNode.location&&this.getNodeObj({location:this.selectedNode.location,callback:function(e,t){e[t].SL=!1}}),this.selectedNode.location=this.location,this.selectedNode.type="basic-node",this.getThisObj.SL=!0)}},render:function(){var e=this;return Object(n["i"])(this.tagName,{contentEditable:!0,class:{selected:this.selected,editing:this.editing,empty:!this.content},style:{color:this.fontColor},onContextmenu:function(t){t.preventDefault(),e.selectEvent()},onClick:function(t){e.initialContent=t.target.innerText,e.editing=!0},onBlur:function(t){var o=t.target.innerText;o!=e.initialContent&&(e.getThisObj.CT=o),e.editing=!1}},this.content)}};const ee=Z;var te=ee,oe=Object(n["e"])("div",{class:"mask"},null,-1);function ne(e,t,o,c,l,i){var s=Object(n["p"])("list-block",!0),r=Object(n["p"])("basic-node"),a=Object(n["p"])("list-child"),d=Object(n["p"])("block-controls");return Object(n["l"])(),Object(n["d"])("div",{class:Object(n["j"])(["list",{"shadow-6":o.selected,hover:e.hover&&!o.selected,empty:!o.children.length}]),onMouseenter:t[0]||(t[0]=function(){return e.onMouseEnter&&e.onMouseEnter.apply(e,arguments)}),onMouseleave:t[1]||(t[1]=function(){return e.onMouseLeave&&e.onMouseLeave.apply(e,arguments)})},[oe,Object(n["h"])(a,{ordered:o.isOrdered},{default:Object(n["s"])((function(){return[(Object(n["l"])(!0),Object(n["d"])(n["a"],null,Object(n["o"])(o.children,(function(t,c){return Object(n["l"])(),Object(n["d"])(n["a"],{key:t.id},["list"==t.NT?(Object(n["l"])(),Object(n["c"])(s,{key:0,isOrdered:t.OL,selected:t.SL,children:t.CTS,location:o.location.concat([c]),onMouseInChild:e.onMouseLeave},null,8,["isOrdered","selected","children","location","onMouseInChild"])):(Object(n["l"])(),Object(n["c"])(r,{key:1,tagName:"h"==t.NT?"h4":t.NT,content:t.CT,color:t.CL,selected:t.SL,location:o.location.concat([c])},null,8,["tagName","content","color","selected","location"]))],64)})),128))]})),_:1},8,["ordered"]),Object(n["h"])(d,{disabled:!e.hover,selected:o.selected,location:o.location,parentType:"list"},null,8,["disabled","selected","location"])],34)}var ce=function(e){return Object(n["n"])("data-v-75b2e578"),e=e(),Object(n["m"])(),e},le=ce((function(){return Object(n["e"])("i",{class:"material-icons"},"add",-1)})),ie=[le],se={class:"checkbox"},re=["checked"],ae=ce((function(){return Object(n["e"])("i",{class:"checkbox-icon"},null,-1)}));function de(e,t,o,c,l,i){return Object(n["l"])(),Object(n["d"])("div",{class:Object(n["j"])(["controls",{disabled:o.disabled}])},[Object(n["e"])("div",{class:"btn btn-normal adder-btn",onClick:t[0]||(t[0]=function(){return i.openTextfield&&i.openTextfield.apply(i,arguments)})},ie),Object(n["e"])("label",se,[Object(n["e"])("input",{type:"checkbox",ref:"checkbox",checked:o.selected,onChange:t[1]||(t[1]=function(){return i.selectEvent&&i.selectEvent.apply(i,arguments)})},null,40,re),ae])],2)}var ue={props:["disabled","selected","location","parentType"],inject:["note","selectedNode"],mixins:[x],methods:{selectEvent:function(){var e=this.$refs.checkbox.checked;this.getThisObj.SL=e,e?(this.selectedNode.location&&this.getNodeObj({location:this.selectedNode.location,callback:function(e,t){e[t].SL=!1}}),this.selectedNode.location=this.location,this.selectedNode.type="floor"):(this.selectedNode.location=null,this.selectedNode.type=null)},openTextfield:function(){var e=this;S.emit("textfield-open",this.parentType),S.on("textfield-return-"+this.parentType,(function(t){t&&e.getThisObj.CTS.push(t),S.off("textfield-return-"+e.parentType)}))}}};o("53f2");const be=F()(ue,[["render",de],["__scopeId","data-v-75b2e578"]]);var fe=be,je={data:function(){return{hover:!1,setTimeout:null}},methods:{onMouseEnter:function(){var e=this;this.setTimeout=setTimeout((function(){e.hover=!0}),400),this.location.length>1&&this.$emit("mouse-in-child")},onMouseLeave:function(){clearTimeout(this.setTimeout),this.selected||(this.hover=!1)}}};const Oe=je;var pe=Oe,he={name:"list-block",components:{BasicNode:te,BlockControls:fe,listChild:{props:["ordered"],render:function(){return Object(n["i"])(this.ordered?"ol":"ul",this.$slots.default())}}},props:["children","isOrdered","location","selected"],mixins:[pe]};const ve=F()(he,[["render",ne]]);var me=ve,Te=function(e){return Object(n["n"])("data-v-b77be298"),e=e(),Object(n["m"])(),e},Ne=Te((function(){return Object(n["e"])("div",{class:"mask"},null,-1)}));function ge(e,t,o,c,l,i){var s=Object(n["p"])("table-row"),r=Object(n["p"])("block-controls");return Object(n["l"])(),Object(n["d"])("div",{class:Object(n["j"])(["table shadow-2",{"shadow-6":o.selected,hover:e.hover}]),onMouseenter:t[0]||(t[0]=function(){return e.onMouseEnter&&e.onMouseEnter.apply(e,arguments)}),onMouseleave:t[1]||(t[1]=function(){return e.onMouseLeave&&e.onMouseLeave.apply(e,arguments)})},[Ne,Object(n["e"])("table",null,[Object(n["e"])("tbody",null,[(Object(n["l"])(!0),Object(n["d"])(n["a"],null,Object(n["o"])(o.children,(function(e,t){return Object(n["l"])(),Object(n["c"])(s,{key:e.id,children:e.CTS,location:o.location.concat([t])},null,8,["children","location"])})),128))])]),Object(n["h"])(r,{class:Object(n["j"])({"controls-margin":e.hover}),disabled:!e.hover,selected:o.selected,location:o.location,parentType:"table"},null,8,["class","disabled","selected","location"])],34)}var Ce={props:["selected","children","location"],mixins:[pe],components:{BlockControls:fe,tableRow:{components:{BasicNode:te},props:["children","location"],render:function(){var e=[];for(var t in this.children){var o=this.children[t];e.push(Object(n["i"])(te,{tagName:"td",content:o.CT,color:o.CL,selected:o.SL,location:this.location.concat([t])}))}return Object(n["i"])("tr",e)}}}};o("c644");const ke=F()(Ce,[["render",ge],["__scopeId","data-v-b77be298"]]);var ye=ke,xe={components:{BasicNode:te,ListBlock:me,TableBlock:ye},props:["nodeObj","index","location","level"]};const Le=F()(xe,[["render",Y]]);var Se=Le,Me={name:"floor-block",components:{BlockControls:fe,NodeRenderer:Se},props:["level","location","children","selected"],mixins:[pe]};const we=F()(Me,[["render",X]]);var Fe=we,_e={class:"selector",ref:"selector"},De=Object(n["f"])('<option value="h">标题</option><option value="p">段落</option><option value="hr">割线</option><option value="floor">层次</option><option value="ol">序列</option><option value="ul">乱列</option>',6),Ae=[De],Be={class:"textfield",contenteditable:"true",ref:"inputter"},Ee=Object(n["e"])("i",{class:"material-icons"},"close",-1),Ie=[Ee];function $e(e,t,o,c,l,i){return Object(n["l"])(),Object(n["d"])("div",{class:Object(n["j"])(["textfield-group shadow-2",{disabled:!o.isAdding}])},[Object(n["e"])("select",_e,Ae,512),Object(n["e"])("div",Be,null,512),Object(n["e"])("div",{class:"textfield-closer closer",onClick:t[0]||(t[0]=function(e){return i.closeNodeAdder()})},Ie)],2)}var Pe={methods:{returnObj:function(e,t){if("/"==t)return null;var o={NT:e,SL:!1};switch(e){case"h":case"p":case"li":o.CT=t,o.CL=null;break;case"hr":break;case"floor":o.CTS=[],t&&o.CTS.push({NT:"h",CT:t,CL:null,SL:!1});break;case"ol":o.NT="list",o.CTS=[],o.OL=!0;break;case"ul":o.NT="list",o.CTS=[],o.OL=!1;break}return o}}};const Ve=Pe;var Je=Ve,Re={props:["isAdding"],mixins:[Je],methods:{focus:function(){var e=this.$refs.inputter;e.focus()},closeNodeAdder:function(){var e=this.$refs.selector,t=this.$refs.inputter,o=e.value,n=t.innerText,c=this.returnObj(o,n);this.$emit("toParent",c),t.blur(),t.innerText=""}}};const qe=F()(Re,[["render",$e]]);var Ge=qe,Ke={components:{FloorBlock:Fe,NodeRenderer:Se,TextfieldGroup:Ge},data:function(){return{isNodeAdding:!1,offset:!1}},props:["isFullscreen"],inject:["note"],created:function(){var e=this;addEventListener("keydown",(function(t){var o=t.altKey,n=t.key;o&&"a"==n&&(t.preventDefault(),e.openNodeAdder())}))},mounted:function(){var e=this;S.on("note-offset",(function(){e.offset=!0})),S.on("colors-close",(function(){e.offset=!1})),S.on("textfield-return",(function(){e.offset=!1}))},methods:{openNodeAdder:function(){this.isNodeAdding=!0,this.$refs.textfield.focus()},closeNodeAdder:function(e){this.isNodeAdding=!1,console.log(e),e&&this.note.CTS.push(e)}}};o("2504");const Ue=F()(Ke,[["render",Q],["__scopeId","data-v-7626431a"]]);var ze=Ue,He={class:"selector",ref:"selector"},Qe=Object(n["e"])("option",{value:"h"},"标题",-1),We={value:"p"},Xe=Object(n["e"])("option",{value:"hr"},"割线",-1),Ye={value:"floor"},Ze=Object(n["e"])("option",{value:"ol"},"序列",-1),et=Object(n["e"])("option",{value:"ul"},"乱列",-1),tt={value:"li"},ot={class:"textfield",contenteditable:"true",ref:"inputter"},nt=Object(n["e"])("i",{class:"material-icons"},"close",-1),ct=[nt];function lt(e,t,o,c,l,i){return Object(n["l"])(),Object(n["d"])("div",{class:Object(n["j"])(["textfield-group fixed shadow-3",{disabled:!l.isInputting}])},[Object(n["e"])("select",He,[Qe,Object(n["t"])(Object(n["e"])("option",We,"段落",512),[[n["r"],"list"!=l.commandFrom]]),Xe,Object(n["t"])(Object(n["e"])("option",Ye,"层次",512),[[n["r"],"list"!=l.commandFrom]]),Ze,et,Object(n["t"])(Object(n["e"])("option",tt,"列项",512),[[n["r"],"list"==l.commandFrom]])],512),Object(n["e"])("div",ot,null,512),Object(n["e"])("div",{class:"textfield-closer closer",onClick:t[0]||(t[0]=function(){return i.closeTextfield&&i.closeTextfield.apply(i,arguments)})},ct)],2)}var it={data:function(){return{isInputting:!1,commandFrom:""}},mixins:[Je],mounted:function(){var e=this;S.on("textfield-open",(function(t){e.commandFrom=t,e.isInputting=!0,e.$refs.inputter.focus(),S.emit("note-offset")})),S.on("textfield-close",this.close),S.on("colors-open",(function(){S.emit("note-offset"),e.close}))},methods:{close:function(){this.isInputting=!1,S.emit("textfield-return")},closeTextfield:function(){this.isInputting=!1;var e=this.$refs.selector.value,t=this.$refs.inputter.innerText,o=this.returnObj(e,t);S.emit("textfield-return-"+this.commandFrom,o),S.emit("textfield-return"),this.$refs.inputter.blur(),this.$refs.inputter.innerText=""}}};const st=F()(it,[["render",lt]]);var rt=st,at=function(e){return Object(n["n"])("data-v-66e1fae2"),e=e(),Object(n["m"])(),e},dt=["onClick"],ut={class:"color-inputer"},bt=at((function(){return Object(n["e"])("div",{class:"hint"},"#",-1)})),ft=at((function(){return Object(n["e"])("i",{class:"material-icons"},"close",-1)})),jt=[ft];function Ot(e,t,o,c,l,i){return Object(n["l"])(),Object(n["d"])("div",{class:Object(n["j"])(["colors shadow-3",{disabled:l.disabled}])},[(Object(n["l"])(!0),Object(n["d"])(n["a"],null,Object(n["o"])(l.colors,(function(e){return Object(n["l"])(),Object(n["d"])("div",{key:e.id,class:"color btn btn-shallow",style:Object(n["k"])({"background-color":"var(".concat(e,")")}),onClick:function(t){return i.setColor(e)}},null,12,dt)})),128)),Object(n["e"])("div",ut,[bt,Object(n["t"])(Object(n["e"])("input",{class:"inputer",placeholder:"******",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return l.colorValue=e})},null,512),[[n["q"],l.colorValue]])]),Object(n["e"])("div",{class:"closer",onClick:t[1]||(t[1]=function(){return i.close&&i.close.apply(i,arguments)})},jt)],2)}var pt={data:function(){return{disabled:!0,colors:["--highlight-color","--warning-color","--default-text-color"],colorValue:"",timeout:null,targetNode:null}},inject:["selectedNode","note"],mixins:[x],mounted:function(){var e=this;S.on("colors-open",(function(){e.disabled=!1,e.getNodeObj({location:e.selectedNode.location,callback:function(t,o){e.targetNode=t[o]}})})),S.on("colors-close",(function(){e.disabled=!0,e.targetNode=null})),S.on("textfield-open",(function(){e.disabled=!0}))},methods:{setColor:function(e){this.targetNode.CL=e},close:function(){S.emit("colors-close")}},watch:{colorValue:function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.setColor("#"+e)}),600)}}};o("5a88");const ht=F()(pt,[["render",Ot],["__scopeId","data-v-66e1fae2"]]);var vt=ht,mt={CTS:[{NT:"h",CT:"这是一个大标题",CL:null,SL:!1},{NT:"hr",SL:!1},{NT:"p",CT:"这是一个段落",CL:null,SL:!1},{NT:"floor",SL:!1,CTS:[{NT:"h",CT:"这是层次中的大标题",CL:null,SL:!1},{NT:"p",CT:"这是一个段落",CL:null,SL:!1},{NT:"floor",SL:!1,CTS:[{NT:"h",CT:"这是层次中的大标题",CL:null,SL:!1},{NT:"p",CT:"这是一个段落",CL:null,SL:!1}]}]},{NT:"list",OL:!0,SL:!1,CTS:[{NT:"li",CT:"这是一个列表项",CL:null,SL:!1}]},{NT:"table",SL:!1,CO:4,CTS:[{CTS:[{NT:"td",CT:"表格项",SL:!1,CL:null},{NT:"td",CT:"表格项",SL:!1,CL:null},{NT:"td",CT:"表格项",SL:!1,CL:null},{NT:"td",CT:"表格项",SL:!1,CL:null}]},{CTS:[{NT:"td",CT:"表格项",SL:!1,CL:null},{NT:"td",CT:"表格项",SL:!1,CL:null},{NT:"td",CT:"表格项",SL:!1,CL:null},{NT:"td",CT:"表格项",SL:!1,CL:null}]}]}]},Tt={name:"App",components:{Note:ze,ControlBalls:G,ToolBar:D,Colors:vt,TextfieldGroupFixed:rt},data:function(){return{note:mt,selectedNode:{location:null,type:null},isDarkMode:!1,isTouchMode:!1,isFullscreen:!1}},provide:function(){return{note:this.note,selectedNode:this.selectedNode}},methods:{toggleDarkMode:function(){this.isDarkMode=!this.isDarkMode},toggleFullscreen:function(){this.isFullscreen=!this.isFullscreen}}};o("cb90");const Nt=F()(Tt,[["render",c]]);var gt=Nt,Ct=(o("5143"),o("38b9"),o("86be"),o("61fd"),o("8d2a"),o("cde1"),Object(n["b"])(gt));Ct.mount("#app")},"5a88":function(e,t,o){"use strict";o("4035")},"61fd":function(e,t,o){},"86be":function(e,t,o){},"8d2a":function(e,t,o){},"92d9":function(e,t,o){},9987:function(e,t,o){},a937:function(e,t,o){},c644:function(e,t,o){"use strict";o("d3a7")},ca846:function(e,t,o){"use strict";o("9987")},cb90:function(e,t,o){"use strict";o("92d9")},cde1:function(e,t,o){},d3a7:function(e,t,o){},d5d1:function(e,t,o){}});
//# sourceMappingURL=app.9ae7fa09.js.map